@(oper: String)

@import helper._
@import org.hadatac.console.views.html._
@import org.hadatac.metadata.loader._
@import java.net._

@main("Clean Metadata Store") {
 
    <div class="container-fluid">
      
      <div class="row">

        <div class="col-md-8 col-md-offset-1">

	     <h4>Cleaning HADataC's metadata store...</h4>
        
             @if(oper=="init") {
                 The metadata store has @MetadataContext.playTotalTriples() triples. <br>

                 <div id="question-box">
                     Are your sure you want to clean it? 
                     <a href="@org.hadatac.console.controllers.triplestore.routes.Clean.clean("confirmed")" class="btn btn-success" role="button">Confirm</a>
                     <a href="@org.hadatac.console.controllers.triplestore.routes.Clean.clean("cancelled")" class="btn btn-danger" role="button">Cancel</a>
                 </div>
             }

	     @if(oper=="confirmed") {
                <p>@URLDecoder.decode(MetadataContext.playClean(), "UTF-8").replaceAll("&lt;br&gt;","<br>")</p>
	     }

             @if(oper=="cancelled") {
                <div id="cancel-box">
                   <h4>Clean KB has been cancelled.</h4>
                   Press OK button to return to HADataC's main page <a href="@org.hadatac.console.controllers.routes.Portal.index()" class="btn btn-warning" role="button">Ok</a>
	        </div>
             }

             
             @if(oper=="completed") {
               <div id="end-process-box">
                  The metadata store has @MetadataContext.playTotalTriples() triples. <br>

                  <h4>Clean complete -- check the results above to see if the clean was successful.</h4>
                  Press OK button to return to HADataC's main page <a href="@org.hadatac.console.controllers.routes.Portal.index()" class="btn btn-warning" role="button">Ok</a>
	       </div>
	     }

	</div>

      </div>

    </div>

    <script>
       function decodeMessage(message) {
            return ;
       }
    </script>


}
   
