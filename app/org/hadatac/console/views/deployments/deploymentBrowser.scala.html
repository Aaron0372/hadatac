@(dir         : String,
  filename    : String,
  da_uri      : String,
  coordinates : String)

@import org.hadatac.console.views.html._
@import org.hadatac.utils._
@import org.hadatac.console.controllers.metadataacquisition._
@import org.hadatac.console.controllers.studies.StudyView
@import org.hadatac.console.controllers._
@import be.objectify.deadbolt.java.views.html._
@import be.objectify.deadbolt.java.utils.TemplateUtils._
@import play.api.Play._
@import java.net.URLEncoder

@main("Deployment Browser") {
	<head>
        <style>
        
        	svg{width:100%;height:500px;margin:0px auto;}

			body { font: 12px Arial;}

			path { 
    				stroke: steelblue;
    				stroke-width: 2;
    				fill: none;
			}

			.axis path,
			.axis line {
    			fill: none;
    			stroke: grey;
    			stroke-width: 1;
    			shape-rendering: crispEdges;
			}

			div.tooltip {	
    			position: absolute;			
    			text-align: center;			
    			width: 150px;					
    			height: 16px;					
    			padding: 2px;				
    			font: 12px sans-serif;		
    			background: lightsteelblue;	
    			border: 0px;		
    			border-radius: 8px;			
    			pointer-events: none;			
			}

		</style>	
	</head>
    <body>

	<h4>Deployment Browser</h4>
    <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css">
    <script type="text/javascript" charset="utf-8" src="http://www.openlayers.org/api/OpenLayers.js"></script>
    <script type="text/javascript" charset="utf-8" src="@controllers.routes.Assets.versioned("javascripts/openLayersFunctions.js")"></script>

    <!--      
    <script type="text/javascript" charset="utf-8" src="http://dev.openlayers.org/OpenLayers.light.debug.js"></script>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="https://unpkg.com/d3@@4"></script>
    <script src="https://unpkg.com/topojson-client@@3"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>  
    <svg></svg>
    -->

	<div class="row">
   		<div class="col-md-12">
       		<div class="row text-center">
                <div style="width:95%; height:600px" id="map"></div>
                <script type="text/javascript">
		        var encodedDataStr = '@coordinates';
        		var dataStr = encodedDataStr.replace(/&#x27;/g,"'");
	    		alert(dataStr);
	    		var coords = eval(dataStr);
                createMap(coords, '@controllers.routes.Assets.versioned("images/marker.png")');
			    $(document).ready(function(){
    				$('div[id^="OL_Icon"]').tooltip(); 
    			});   
                </script>
            </div>
        </div>
    </div>

}