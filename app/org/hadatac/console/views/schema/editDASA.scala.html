@(dasa       : org.hadatac.entity.pojo.DataAcquisitionSchemaAttribute, 
  entities   : org.hadatac.console.models.OtMSparqlQueryResults,
  attributes : org.hadatac.console.models.OtMSparqlQueryResults,
  units      : org.hadatac.console.models.OtMSparqlQueryResults)

@import org.hadatac.console.views.html._
@import org.hadatac.utils._

@main("Edit Data Acquisition Schema Attribute") {

<style>

     .node rect {
         cursor: pointer;
         fill: #fff;
         fill-opacity: .5;
         stroke: #3182bd;
         stroke-width: 1.5px;
      }

      .node text {
         font: 10px sans-serif;
          pointer-events: none;
      }

      path.link {
          fill: none;
          stroke: #9ecae1;
          stroke-width: 1.5px;
      }

      .tab-content {
         border-left: 1px solid #ddd;
         border-right: 1px solid #ddd;
         padding: 10px;
      }

.nav-tabs{
    display: flex;
}
.nav-tabs li {
    display: flex;
    flex: 1;
}

.nav-tabs li  a {
    flex: 1;
}

</style>

<script type="text/javascript">
  function checkform() {

      alert(lasClikedD)
      var cansubmit = true;
  
      if (lastClickD == null) {
          cansubmit = false;
      }
  
      if (cansubmit) {
          document.getElementById('copyvalue').disabled = false;
      } else {
          document.getElementById('copyvalue').disabled = 'disabled';
      }
  }
</script>


   <div class="container-fluid">

      <h2>Edit Data Acquisition Schema Attribute (DASA)</h2>
    
      <div class="col-md-5 col-xs-4">

	 <form class="form-horizontal" name="editForm" method="post" action="@org.hadatac.console.controllers.schema.routes.EditDASA.processForm(dasa.getUri())">
       
           <div class="form-group">
             <label>URI</label>
	     <input type="text" class="form-control col-sm-6" id="newURI" name="newURI" value="@dasa.getUriNamespace()">
           </div>
           
           <div class="form-group">
             <label>Label</label>
	     <input type="text" class="form-control col-sm-6" id="newLabel" name="newLabel" value="@dasa.getLabel()">
           </div>
           
           <div class="form-group">
             <label>Position</label>
	     <input type="text" class="form-control col-sm-6" id="newPosition" name="newPosition" value="@dasa.getPosition()">
           </div>
           
           <div class="form-group">
             <label>Entity</label>
	     <input type="text" class="form-control col-sm-6" id="newEntity" name="newEntity" value="@dasa.getEntityLabel() [@dasa.getEntityNamespace()]" readonly>
           </div>
           
           <div class="form-group">
             <label>Attribute</label>
             <input type="text" class="form-control col-sm-6" id="newAttribute" name="newAttribute" value="@dasa.getAttributeLabel() [@dasa.getAttributeNamespace()]" readonly>
           </div>
	   
           <div class="form-group">
             <label>Unit</label>
             <input type="text" class="form-control col-sm-6" id="newUnit" name="newUnit" value="@dasa.getUnitLabel() [@dasa.getUnitNamespace()]" readonly>
           </div>
	   
	   <div class="form-group">
             <label>Operations</label> <br>
	     <input class="btn btn-success btn-sm" role="button" type="submit" id="submit" value="Update DASA" />
	     <input class="btn btn-success btn-sm" role="button" type="copyvalue" id="copyvalue" value="Copy Selected Value" /> <br>
	     <input class="btn btn-info btn-sm" role="button" type="expand" id="expand" value="Expand All" />
	     <input class="btn btn-info btn-sm" role="button" type="collapse" id="collapse" value="Collapse All" />
	     <input class="btn btn-info btn-sm" role="button" type="previousDASA" id="previousDASA" value="Previous DASA" />
	     <input class="btn btn-info btn-sm" role="button" type="nextDASA" id="nextDASA" value="Next DASA" />
	   </div>

         </form>
      </div>
      <div class="col-md-7 col-xs-4">

            <ul class="nav nav-tabs">
                <li class="active"><a class="entitytab" href="#entity_tab" data-toggle="tab">Entity Hierachy</a></li>
                <li><a class="attributetab" href="#attribute_tab" data-toggle="tab">Attribute Hierarchy</a></li>
                <li><a class="unittab" href="#unit_tab" data-toggle="tab">Unit Hierarchy</a></li>
            </ul>
            <div class="tab-content">
                <treecontent></treecontent>
                <div class="tab-pane" id="entity_tab">
		    <div id="entityquery" data-results="@entities.treeResults"></div>
                </div>
                <div class="tab-pane" id="attribute_tab">
		    <div id="attributequery" data-results="@attributes.treeResults"></div>
                </div>
                <div class="tab-pane" id="unit_tab">
		    <div id="unitquery" data-results="@units.treeResults"></div>
                </div>
            </div>

            <script src="/hadatac/assets/javascripts/jquery.min.js"></script>
            <script src="/hadatac/assets/javascripts/d3.v3.min.js"></script>
            <script src="/hadatac/assets/javascripts/bootstrap.min.js"></script>

            <script>
                $.ajaxSetup ({
                   // Disable caching of AJAX responses
                   // Used when debugging
                   cache: false
                });

                $.getScript("/hadatac/assets/javascripts/treeEntity.js");
                $(".entitytab").click(function() {
                    $.getScript("/hadatac/assets/javascripts/treeEntity.js");
                })
            </script>
            <script>
                $(".attributetab").click(function() {
                    $.getScript("/hadatac/assets/javascripts/treeAttribute.js");
                })
            </script>
            <script>
                $(".unittab").click(function() {
                    $.getScript("/hadatac/assets/javascripts/treeUnit.js");
                })
            </script>

      </div>

      <br>
      <a href="@org.hadatac.console.controllers.schema.routes.DASManagement.index()" class="btn btn-primary" role="button">Back to DA Schema Management</a>

   </div>
	 
}
   
